<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>使用 OpenLayers 加载天地图瓦片</title>
    <!-- 引入 OpenLayers 的 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@v9.1.0/ol.css" />
    <!-- 引入 OpenLayers 的 JS -->
    <script src="https://cdn.jsdelivr.net/npm/ol@v9.1.0/dist/ol.js"></script>
    <style>
      #map {
        width: 100%;
        height: 100vh;
      }
    </style>
  </head>
  <body>
    <!-- 地图容器 -->
    <div id="map"></div>

    <script>
      // 天地图密钥（请替换为你的 tk）
      const tk = 'f285b8c64f1c7c45d09b92ee8976cd45';

      // 天地图 WMTS 服务 URL 模板
      const tileUrl = `http://t{0-7}.tianditu.gov.cn/vec_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=vec&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=${tk}`;

      // 创建天地图瓦片图层
      const tiandituLayer = new ol.layer.Tile({
        source: new ol.source.XYZ({
          url: tileUrl,
        }),
      });

      // 初始化地图
      const map = new ol.Map({
        target: 'map', // 绑定到 div#map
        layers: [tiandituLayer], // 添加天地图图层
        view: new ol.View({
          center: ol.proj.fromLonLat([113.32452, 23.099994]), // 初始中心点（经纬度转投影坐标）
          zoom: 14, // 初始缩放级别
        }),
      });
    </script>
  </body>
</html>
